<div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
  <div class="modal__overlay" tabindex="-1" data-micromodal-close>
    <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
      <header class="modal__header">
        <h2 class="modal__title">
          Select Game
        </h2>
        <!-- <button class="modal__close" aria-label="Close modal" data-micromodal-close></button> -->
      </header>
      <div class="modal-content-content">
        <div class="modal__content">
          <div id="ms1">
            <!-- TODO: Loop over all games -->
            <% for (let gameIndex = 0; gameIndex < meta.length; gameIndex++) { %>
              <div class="game-box" id="game_<%= gameIndex %>">
                <div>
                  <img src="<%= meta[gameIndex].avatar %>" width="100" alt="<%= meta[gameIndex].name %>">
                </div>
                <div>
                  <%= meta[gameIndex].name %>
                </div>
              </div>
            <% } %>
          </div>
          <div id="ms2">
            <!-- TODO: Only show config for selected game -->
            <div>
              <%= config[0].name %>
            </div>
            <div id="configs">
              <% for (let [key, value] of Object.entries(config[0].conf)) { %>
                <div id=<%= key %>>
                  <%= key %>: 
                  <% if (!Array.isArray(value)) { value = [value] } %>
                  <% value.forEach( element => { %>
                    <input class="config-input" value=<%= element %>></input>
                  <% }) %>
                </div>
              <% } %>
            </div>
            <div>
              <button id="start-btn" data-micromodal-close>Start</button>
            </div>
          </div>
        </div>
        <footer class="modal__footer">
          <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
        </footer>
      </div>
    </div>
  </div>
</div>

<a data-micromodal-trigger="modal-1" href='javascript:void(0);'>Start new game</a>